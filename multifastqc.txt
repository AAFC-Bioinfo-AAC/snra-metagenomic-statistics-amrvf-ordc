# Running fastqc and multiqc of metagenomic samples (fastq)
# Author: Dr. Haley Sanderson haley.sanderson@agr.gc.ca
# Copyright: Government of Canada
# License: MIT
# Version 0.1


#!/bin/bash -l
#SBATCH --export=USER,LOGNAME,HOME,MAIL,PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
#SBATCH --job-name=fastqc
#SBATCH --account=grdi_genarcc
#SBATCH --partition=standard
#SBATCH --cpus-per-task=2
#SBATCH --mem-per-cpu=10000M
#SBATCH --time=24:00:00

source ~/miniconda3/etc/profile.d/conda.sh
conda activate /gpfs/fs7/grdi/genarcc/wp3/common/conda/envs/multifastqc
line=$1

fastqc "$line"_R1.atria.fq.gz
fastqc "$line"_R2.atria.fq.gz


#!/bin/bash -l
cat "list_MG_samples.txt" | while IFS= read -r line; do
    echo "Processing line: $line"
    sbatch fastqc.sh "$line"
done

#!/bin/bash -l
#SBATCH --export=USER,LOGNAME,HOME,MAIL,PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
#SBATCH --job-name=multiqc
#SBATCH --account=grdi_genarcc
#SBATCH --partition=standard
#SBATCH --cpus-per-task=2
#SBATCH --mem-per-cpu=10000M
#SBATCH --time=24:00:00

source ~/miniconda3/etc/profile.d/conda.sh
conda activate /gpfs/fs7/grdi/genarcc/wp3/common/conda/envs/multifastqc

multqc .
